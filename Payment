import java.util.*;
public class Payment {
    protected double total;
    private static double totalSales;
    private static double highestSale = Double.MIN_VALUE;
    private static double lowestSale = Double.MAX_VALUE;
    protected double amt;
    private double change = 0.0;
    private char opt;
    private Food foodMenu;
    private Beverages beverageMenu;
    protected double tprice;
    int cardNum = 0;

    private Scanner input = new Scanner(System.in);

    //public void setTotalPrice(double price) {this.tprice = price;}

    public double getTotal() { return total; }
    public double getTotalSales() { return totalSales; }
    public Payment(Order order){}
    
    public Payment(double tprice,  double total) {
        this.total = total;
        this.tprice = tprice;

    }

    public void payMethod(){
        System.out.println("\nHow would you like to pay?");
        System.out.println("[1] Cash");
        System.out.println("[2] Card (10% discount)");
        System.out.print("Choose option: ");
        int payOpt = input.nextInt();

        String result;
        double paymentAmount = tprice;

        switch (payOpt) {
            case 1 :
                System.out.print("Enter amount: RM");
                amt = input.nextDouble();
                input.nextLine();
                Cash cash = new Cash(tprice, total, amt);
                result = cash.payByCash();
                updateSaleStats(tprice);
                break;

            case 2: 
                
                Card card = new Card(tprice, total, cardNum);
                result = card.payByCard();
                double discountedPrice = tprice * 0.9;
                totalSales += discountedPrice;
                updateSaleStats(discountedPrice);
            break;
               

            default: 
                result = "Invalid payment option selected.";
                break;
        }
        System.out.println(result);

    }

    public double getTprice(){
        return tprice;
    }
    private static void updateSaleStats(double amount) {
        if (amount > highestSale) highestSale = amount;
        if (amount < lowestSale) lowestSale = amount;
        totalSales += amount;
    }

    public double getHighestSale() { return highestSale; }
    public double getLowestSale() { return lowestSale; }

}
